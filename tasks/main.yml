---


- name: Install common dependencies
  apt:
    name="{{ item }}"
  with_items: "{{ samson_apt_dependecies }}"

- name : Create samson group
  group: 
    name="{{ samson_group }}"

- name : Create samson user
  user : 
    name="{{ samson_user }}"
    group="{{ samson_group }}"
    shell="/sbin/nologin"
    home="{{ samson_home_dir }}"
    createhome="yes"

- name: Create samson directories
  file: 
    path="{{ samson_home_dir }}"
    owner="{{ samson_user }}"
    group="{{ samson_group }}"
    mode=0755
    state=directory
  with_items: 
    - "{{ samson_home_dir }}"
    - "{{ samson_log_dir }}"

- name: Include install yaml
  include: Install.yml